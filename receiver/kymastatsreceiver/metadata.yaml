type: kymastatsreceiver

status:
  class: receiver
  stability:
    alpha: [metrics]
  distributions: [kyma]
  codeowners:
    active: [kyma-project/observability]
# Skip life cycle and shutdown tests as we need a real kubeconfig to run the lifecycle tests, as the test needs to generate a kubeconfig client. Enable them once we have a proper solution for this
tests:
  config:
  skip_lifecycle: true
  skip_shutdown: true

resource_attributes:
  k8s.namespace.name:
    description: "The name of the namespace that the resource is running in"
    enabled: true
    type: string
  kyma.module.name:
    description: "The name of the Kyma module instance"
    enabled: true
    type: string
attributes:
  state:
    description: The state of the module status.
    type: string
  module:
    description: The kind of the module.
    type: string
  reason:
    description: The reason of the module condition status.
    type: string
  status:
    description: The status of the module condition.
    type: string
  type:
    description: The type of the module condition.
    type: string
metrics:
  kyma.module.status.state:
    enabled: true
    description: "The module status state, including module and state."
    unit: "1"
    gauge:
      value_type: int
    attributes: ["state", "module"]

  kyma.module.status.condition:
    enabled: true
    description: "The Kyma module status conditions, including module, condition reason, status, and type."
    unit: "1"
    gauge:
      value_type: int
    attributes: ["module", "reason", "status", "type"]